#! /usr/bin/python
# -*- coding: utf-8 -*-

import sys
import os

BASE_DIR = os.path.abspath( os.path.join( os.path.dirname( __file__ ), ".." ) )
path     = os.path.abspath( os.path.join( BASE_DIR, "python" ) )
sys.path.append( path )

import momo
import numpy as np


def learn( name, cost_function ):
  f = open( name, "w" )
  cost_function.save( f )
  f.close()

data = momo.read_data( sys.argv[1] )

learn( 
  "models/%s_maha_bins.txt" % sys.argv[1].split( "." )[0],
  momo.cost_function.mahalanobis( momo.features.bins, data )
)

